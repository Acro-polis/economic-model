function [selectedNodes] = identifyPreferredNodes(Am, N, RN)
%===================================================
%
% Randomly identify a node with probabilities proportional
% to their degrees. This is the preferential attachment
% model.
%
% TODO - Add more explaination
%
% Author: Jess
% Created: 2018.07.19
%===================================================
assert(N >= RN,'Error in identifyPreferredNodes: N < RN')

nodes = 1:N;
selectedNodes = [];
D = sum(Am);

for i = 1:RN
    d = sum(D);
    P = cumsum(D ./ d);
    r = unifrnd(0,1);
    index = find([-1 P] < r, 1, 'last');
    selectedNodes = selected 
end;



for i = 1:RN
    index = round(unifrnd(1,size(nodes,2)));
    selectedNodes = [selectedNodes nodes(index)];
    nodes(index) = [];
end

end

